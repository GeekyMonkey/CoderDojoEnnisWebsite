@model List<CoderDojo.Team>
@{
    List<CoderDojo.Team> teams = Model;
    ViewBag.MenuActive = "Teams";
    ViewBag.Title = "Teams";
}

@section HeaderLeft
{
}

@section HeaderRight
{
}

@section Footer
{
    <a href="TeamAdd" data-role="button" data-icon="plus">New Team</a>
}

@section Panels
{
    @Html.Partial("_MentorMenu")
}

<div class="content-primary">
    <ul data-role="listview" data-autodividers="false" id="myFilter" data-filter="false" data-filter-placeholder="Search..." data-filter-theme="a">
        @foreach (Team t in teams)
        {
            <li class="TeamHeader" data-color="@t.HexCode">
                <a href="Team/@(t.Id.ToString("N"))">
                    <img data-src="@t.ImageUrl" />
                    <span>@t.TeamName</span>
                </a>
            </li>
        }
    </ul>
</div>

<script type="text/javascript">
    var minMessageLength = 5;

    $(function () {
        setTimeout(function () {
            $(".TeamHeader").each(function (i, e) {
                $(this).find(".ui-btn-inner").css("transition", "background-color 2s");
                $(this).find(".ui-btn-inner").css("background-color", $(this).data("color"));
            });
        }, 1000);
    });
</script>
